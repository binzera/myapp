extends layout

block content
  .container
    h1 Editar Com√©rcio de Animais
    .form-container
      form(action=`/comercio_animais/${comercioAnimais.id}/edit` method="POST")
        .form-group
          label(for="data") Data
          input#data.form-control(type="date" name="data" value=comercioAnimais.get('data').toISOString().split('T')[0] required)
        .form-group
          label(for="tipo") Tipo
          input#tipo.form-control(type="text" name="tipo" value=comercioAnimais.get('tipo') required)
        .form-group
          label(for="sexo") Sexo
          input#sexo.form-control(type="text" name="sexo" value=comercioAnimais.get('sexo') required)
        .form-group
          label(for="vendedor") Vendedor
          input#vendedor.form-control(type="text" name="vendedor" value=comercioAnimais.get('vendedor') required)
        .form-group
          label(for="comprador") Comprador
          input#comprador.form-control(type="text" name="comprador" value=comercioAnimais.get('comprador') required)
        .form-group
          label(for="quantidade") Quantidade
          input#quantidade.form-control(type="number" name="quantidade" value=comercioAnimais.get('quantidade') required)
        .form-group
          label(for="valor") Valor
          input#valor.form-control(type="number" step="0.01" name="valor" value=comercioAnimais.get('valor') required)
        .form-group
          label(for="peso") Peso
          input#peso.form-control(type="number" step="0.01" name="peso" value=comercioAnimais.get('peso') required)
        .form-group
          label(for="idade") Idade
          select#idade.form-control(name="idade" required)
            option(value="") Selecione a Idade
            option(value="0-12") 0-12 meses
            option(value="13-24") 13-24 meses
            option(value="25-36") 25-36 meses
            option(value="+36") Acima de 36 meses
        .form-group
          button.btn.btn-secondary(type="button" onclick="window.location.href='/comercio_animais'" style="display:inline; margin-right: 5px;") Voltar
          button.btn.btn-primary(type="submit") Salvar

    // Script para definir a idade automaticamente
    script.
      document.addEventListener('DOMContentLoaded', function() {
        var idade = "#{comercioAnimais.get('idade')}";
        var idadeDropdown = document.getElementById('idade');
        for (var i = 0; i < idadeDropdown.options.length; i++) {
          console.log(idadeDropdown.options[i].value + ' - ' + idade);
          if (idadeDropdown.options[i].value === idade) {
            idadeDropdown.options[i].selected = true;
            break;
          }
        }
      });
